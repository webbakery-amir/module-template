services:
  _defaults:
    public: false
    autowire: true

  WebBakery\Credit\Logging\Command\ReadLogsCommand:
    class: WebBakery\Credit\Logging\Command\ReadLogsCommand
    arguments:
      $logFilePath: '%app.log_file_path%'
    tags:
      - { name: 'console.command', command: 'oetemplate:logger:read' }

  WebBakery\Credit\Logging\Service\BasketProductLoggerServiceInterface:
    class: WebBakery\Credit\Logging\Service\BasketProductLoggerService
    public: true
    arguments:
      $logger: '@WebBakery\Credit\Logger'

  WebBakery\Credit\Logger:
    class: Monolog\Logger
    factory: [ '@WebBakery\Credit\Logger\Factory', 'create' ]

  WebBakery\Credit\Logger\Factory:
    class: OxidEsales\EshopCommunity\Internal\Framework\Logger\Factory\MonologLoggerFactory
    arguments:
      $configuration: '@WebBakery\Credit\Logger\Configuration'

  WebBakery\Credit\Logger\Configuration:
    class: OxidEsales\EshopCommunity\Internal\Framework\Logger\Configuration\MonologConfiguration
    arguments:
      $loggerName: 'Basket Logger'
      $logFilePath: '%app.log_file_path%'
      $logLevel: !php/const Psr\Log\LogLevel::DEBUG